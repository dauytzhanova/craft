{"ast":null,"code":"var _jsxFileName = \"/Users/dauytzhanovabotakoz/Documents/craft/src/components/home/cards/BookCards.js\";\nimport React, { Component } from \"react\";\nimport db from \"./db\";\nimport BookCardsList from \"./BookCardsList\";\nimport \"./bookCards.css\";\nexport default class BookCards extends Component {\n  constructor() {\n    super();\n\n    this.getPhp = () => {\n      fetch('http://localhost/craft/api/books.php ', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({})\n      }).then(res => res.json()).then(json => {\n        db = json[0];\n        console.log(db);\n        const ret = React.createElement(\"div\", {\n          className: \"book-cards\",\n          onLoad: this.getPhp,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          className: \"cards-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, \"TOP BOOKS\"), React.createElement(\"p\", {\n          className: \"title-desc\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, \"The Top 10 book chosen by 125 top writers from the book \\\"The Top 10\\\" edited by J. Peder Zane.\"), React.createElement(\"div\", {\n          className: \"dropdown\",\n          ref: node => {\n            this.node = node;\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: this.handleClick,\n          className: \"dropbtn\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, \"Sort By\", React.createElement(\"i\", {\n          className: \"arrow down\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        })), this.state.popupVisible && React.createElement(\"div\", {\n          id: \"myDropdown\",\n          className: \"dropdown-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"#\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, \"Price\"), React.createElement(\"a\", {\n          href: \"#\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, \"Year\"), React.createElement(\"a\", {\n          href: \"#\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, \"A-Z\"), React.createElement(\"a\", {\n          href: \"#\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, \"Z-A\"))), React.createElement(BookCardsList, {\n          bookElements: db,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }));\n        document.getElementsByClassName(\"getData\").appendChild(ret);\n      });\n    };\n\n    this.handleClick = this.handleClick.bind(this);\n    this.handleOutsideClick = this.handleOutsideClick.bind(this);\n    this.getPhp = this.getPhp.bind(this);\n    this.state = {\n      popupVisible: false,\n      books: []\n    };\n  }\n\n  handleClick() {\n    if (!this.state.popupVisible) {\n      // attach/remove event handler\n      document.addEventListener('click', this.handleOutsideClick, false);\n    } else {\n      document.removeEventListener('click', this.handleOutsideClick, false);\n    }\n\n    this.setState(prevState => ({\n      popupVisible: !prevState.popupVisible\n    }));\n  }\n\n  handleOutsideClick(e) {\n    // ignore clicks on the component itself\n    if (this.node.contains(e.target)) {\n      return;\n    }\n\n    this.handleClick();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"getData\",\n      onLoad: this.getPhp,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }) // <div className=\"book-cards\" onLoad={this.getPhp}>\n    //     <h2 className=\"cards-title\">TOP BOOKS</h2>\n    //     <p className=\"title-desc\">The Top 10 book chosen by 125 top writers from the book \"The Top 10\" edited by J. Peder Zane.</p>\n    //     <div className=\"dropdown\" ref={node => { this.node = node; }}>\n    //         <button onClick={this.handleClick} className=\"dropbtn\">Sort By<i className=\"arrow down\"></i></button>\n    //         {this.state.popupVisible && (\n    //             <div id=\"myDropdown\" className=\"dropdown-content\">\n    //                 <a href=\"#\">Price</a>\n    //                 <a href=\"#\">Year</a>\n    //                 <a href=\"#\">A-Z</a>\n    //                 <a href=\"#\">Z-A</a>\n    //             </div>)}\n    //     </div>\n    //     <BookCardsList bookElements = {db.books}/>\n    // </div>\n    ;\n  }\n\n}","map":{"version":3,"sources":["/Users/dauytzhanovabotakoz/Documents/craft/src/components/home/cards/BookCards.js"],"names":["React","Component","db","BookCardsList","BookCards","constructor","getPhp","fetch","method","headers","body","JSON","stringify","then","res","json","console","log","ret","node","handleClick","state","popupVisible","document","getElementsByClassName","appendChild","bind","handleOutsideClick","books","addEventListener","removeEventListener","setState","prevState","e","contains","target","render"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport db from \"./db\";\nimport BookCardsList from \"./BookCardsList\";\nimport \"./bookCards.css\"\n\nexport default class BookCards extends Component {\n    constructor() {\n        super();\n        this.handleClick = this.handleClick.bind(this);\n        this.handleOutsideClick = this.handleOutsideClick.bind(this);\n        this.getPhp = this.getPhp.bind(this);\n        this.state = {\n          popupVisible: false,\n          books:[],\n        };\n      }\n      \n\n      handleClick() {\n        if (!this.state.popupVisible) {\n          // attach/remove event handler\n          document.addEventListener('click', this.handleOutsideClick, false);\n        } else {\n          document.removeEventListener('click', this.handleOutsideClick, false);\n        }\n    \n        this.setState(prevState => ({\n           popupVisible: !prevState.popupVisible,\n        }));\n      }\n      \n      handleOutsideClick(e) {\n        // ignore clicks on the component itself\n        if (this.node.contains(e.target)) {\n            return;\n        }\n        \n        this.handleClick();\n      }\n    \n      getPhp = () =>{\n        fetch('http://localhost/craft/api/books.php ', {\n            method: 'POST',\n            headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n            })\n        }).then(res => res.json()).then(json =>{\n            db = json[0];\n            console.log(db);\n            const ret = (\n              <div className=\"book-cards\" onLoad={this.getPhp}>\n              <h2 className=\"cards-title\">TOP BOOKS</h2>\n              <p className=\"title-desc\">The Top 10 book chosen by 125 top writers from the book \"The Top 10\" edited by J. Peder Zane.</p>\n              \n              <div className=\"dropdown\" ref={node => { this.node = node; }}>\n                  <button onClick={this.handleClick} className=\"dropbtn\">Sort By<i className=\"arrow down\"></i></button>\n                  {this.state.popupVisible && (\n                      <div id=\"myDropdown\" className=\"dropdown-content\">\n                          <a href=\"#\">Price</a>\n                          <a href=\"#\">Year</a>\n                          <a href=\"#\">A-Z</a>\n                          <a href=\"#\">Z-A</a>\n                      </div>)}\n              </div>\n              <BookCardsList bookElements = {db}/>\n          </div>\n            );\n            document.getElementsByClassName(\"getData\").appendChild(ret);\n            \n          })\n    }\n\n      render() {\n        return (\n          <div className=\"getData\" onLoad={this.getPhp}></div>\n            // <div className=\"book-cards\" onLoad={this.getPhp}>\n            //     <h2 className=\"cards-title\">TOP BOOKS</h2>\n            //     <p className=\"title-desc\">The Top 10 book chosen by 125 top writers from the book \"The Top 10\" edited by J. Peder Zane.</p>\n                \n            //     <div className=\"dropdown\" ref={node => { this.node = node; }}>\n            //         <button onClick={this.handleClick} className=\"dropbtn\">Sort By<i className=\"arrow down\"></i></button>\n            //         {this.state.popupVisible && (\n            //             <div id=\"myDropdown\" className=\"dropdown-content\">\n            //                 <a href=\"#\">Price</a>\n            //                 <a href=\"#\">Year</a>\n            //                 <a href=\"#\">A-Z</a>\n            //                 <a href=\"#\">Z-A</a>\n            //             </div>)}\n            //     </div>\n            //     <BookCardsList bookElements = {db.books}/>\n            // </div>\n\n\n        );\n        \n    }\n\n}"]},"metadata":{},"sourceType":"module"}