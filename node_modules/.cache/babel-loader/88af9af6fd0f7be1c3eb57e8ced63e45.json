{"ast":null,"code":"var _jsxFileName = \"/Users/dauytzhanovabotakoz/Documents/craft/src/components/home/cards/BookCards.js\";\nimport React, { Component } from \"react\";\nimport db from \"./db\";\nimport BookCardsList from \"./BookCardsList\";\nimport \"./bookCards.css\";\nexport default class BookCards extends Component {\n  constructor() {\n    super();\n    this.handleClick = this.handleClick.bind(this);\n    this.handleOutsideClick = this.handleOutsideClick.bind(this);\n    this.getPhp = this.getPhp.bind(this);\n    this.state = {\n      popupVisible: false,\n      books: []\n    };\n  }\n\n  getPhp() {\n    let newBooks = [];\n    fetch('http://localhost/craft/api/books.php ', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      body: JSON.stringify({})\n    }).then(res => res.json()).then(response => {\n      for (let entry of response) {\n        newBooks.push({\n          id: entry.id,\n          title: entry.title,\n          author: entry.author,\n          category: entry.category,\n          genre: entry.genre,\n          format: entry.format,\n          isbn: entry.isbn,\n          description: entry.description,\n          publisher: entry.publisher,\n          image: entry.image,\n          price: entry.price,\n          size: entry.size,\n          publishedDate: entry.publishedDate,\n          language: entry.language\n        });\n      }\n    });\n    this.setState({\n      books: [...this.state.books, newBooks]\n    });\n  }\n\n  handleClick() {\n    if (!this.state.popupVisible) {\n      // attach/remove event handler\n      document.addEventListener('click', this.handleOutsideClick, false);\n    } else {\n      document.removeEventListener('click', this.handleOutsideClick, false);\n    }\n\n    this.setState(prevState => ({\n      popupVisible: !prevState.popupVisible\n    }));\n  }\n\n  handleOutsideClick(e) {\n    // ignore clicks on the component itself\n    if (this.node.contains(e.target)) {\n      return;\n    }\n\n    this.handleClick();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"book-cards\",\n      onLoad: this.getPhp,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"cards-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"TOP BOOKS\"), React.createElement(\"p\", {\n      className: \"title-desc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"The Top 10 book chosen by 125 top writers from the book \\\"The Top 10\\\" edited by J. Peder Zane.\"), React.createElement(\"div\", {\n      className: \"dropdown\",\n      ref: node => {\n        this.node = node;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.handleClick,\n      className: \"dropbtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Sort By\", React.createElement(\"i\", {\n      className: \"arrow down\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })), this.state.popupVisible && React.createElement(\"div\", {\n      id: \"myDropdown\",\n      className: \"dropdown-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Price\"), React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Year\"), React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"A-Z\"), React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Z-A\"))), console.log(this.state.books), React.createElement(BookCardsList, {\n      bookElements: this.state.books,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/dauytzhanovabotakoz/Documents/craft/src/components/home/cards/BookCards.js"],"names":["React","Component","db","BookCardsList","BookCards","constructor","handleClick","bind","handleOutsideClick","getPhp","state","popupVisible","books","newBooks","fetch","method","headers","body","JSON","stringify","then","res","json","response","entry","push","id","title","author","category","genre","format","isbn","description","publisher","image","price","size","publishedDate","language","setState","document","addEventListener","removeEventListener","prevState","e","node","contains","target","render","console","log"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport db from \"./db\";\nimport BookCardsList from \"./BookCardsList\";\nimport \"./bookCards.css\"\n\nexport default class BookCards extends Component {\n    constructor() {\n        super();\n        this.handleClick = this.handleClick.bind(this);\n        this.handleOutsideClick = this.handleOutsideClick.bind(this);\n        this.getPhp = this.getPhp.bind(this);\n\n        this.state = {\n          popupVisible: false,\n          books:[],\n        };\n      }\n      getPhp(){\n        let newBooks = [];\n        fetch('http://localhost/craft/api/books.php ', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n            })\n          }).then(res => res.json()).then(response=>{\n            for (let entry of response) {\n              newBooks.push({\n                         id: entry.id,\n                         title: entry.title,\n                         author: entry.author,\n                         category: entry.category,\n                         genre: entry.genre,\n                         format:entry.format,\n                         isbn: entry.isbn,\n                         description: entry.description,\n                         publisher: entry.publisher,\n                         image:entry.image,\n                         price: entry.price,\n                         size: entry.size,\n                         publishedDate: entry.publishedDate,\n                         language: entry.language,\n                     });\n             }\n          });\n\n          this.setState({\n            books: [...this.state.books,newBooks],\n          });\n       }\n\n      handleClick() {\n        if (!this.state.popupVisible) {\n          // attach/remove event handler\n          document.addEventListener('click', this.handleOutsideClick, false);\n        } else {\n          document.removeEventListener('click', this.handleOutsideClick, false);\n        }\n    \n        this.setState(prevState => ({\n           popupVisible: !prevState.popupVisible,\n        }));\n      }\n      \n      handleOutsideClick(e) {\n        // ignore clicks on the component itself\n        if (this.node.contains(e.target)) {\n            return;\n        }\n        \n        this.handleClick();\n      }\n    \n        render() {\n        return (\n            <div className=\"book-cards\" onLoad={this.getPhp}>\n                <h2 className=\"cards-title\">TOP BOOKS</h2>\n                <p className=\"title-desc\">The Top 10 book chosen by 125 top writers from the book \"The Top 10\" edited by J. Peder Zane.</p>\n                \n                <div className=\"dropdown\" ref={node => { this.node = node; }}>\n                    <button onClick={this.handleClick} className=\"dropbtn\">Sort By<i className=\"arrow down\"></i></button>\n                    {this.state.popupVisible && (\n                        <div id=\"myDropdown\" className=\"dropdown-content\">\n                            <a href=\"#\">Price</a>\n                            <a href=\"#\">Year</a>\n                            <a href=\"#\">A-Z</a>\n                            <a href=\"#\">Z-A</a>\n                        </div>)}\n                </div>\n                {console.log(this.state.books)}\n                <BookCardsList bookElements = {this.state.books}/>\n            </div>\n        );\n    }\n\n}"]},"metadata":{},"sourceType":"module"}