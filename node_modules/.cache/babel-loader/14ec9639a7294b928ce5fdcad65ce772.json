{"ast":null,"code":"var _jsxFileName = \"/Users/dauytzhanovabotakoz/Documents/craft/src/components/auth/Login.js\";\nimport React, { Component } from 'react';\nimport { Link, Redirect } from \"react-router-dom\";\nimport \"./auth.css\";\nexport default class Login extends Component {\n  constructor() {\n    super();\n    this.login = this.login.bind(this);\n    this.state = {\n      username: '',\n      password: '',\n      redirect: false,\n      isLogin: false\n    };\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  login() {\n    if (this.state.username && this.state.password) {\n      fetch('http://localhost/craft/api/users.php', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: this.state.username,\n          password: this.state.password\n        })\n      }).then(res => res.json()).then(response => {\n        sessionStorage.setItem(\"user\", response);\n        this.setState({\n          redirect: true,\n          isLogin: true\n        });\n      });\n    }\n  }\n\n  logout() {\n    sessionStorage.setItem(\"user\", '');\n    sessionStorage.clear();\n  }\n\n  handleChange(e) {\n    let target = e.target;\n    let value = target.value;\n    let name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return React.createElement(Redirect, {\n        to: \"/home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      });\n    }\n\n    if (sessionStorage.getItem('user')) {\n      return React.createElement(Redirect, {\n        to: \"/home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"auth-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"auth-page-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"auth-title title-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Log In\"), React.createElement(\"form\", {\n      className: \"auth-form\",\n      method: \"post\",\n      onSubmit: e => this.handleSubmit(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"auth-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Username:\"), React.createElement(\"input\", {\n      onChange: e => this.handleChange(e),\n      type: \"text\",\n      name: \"username\",\n      value: this.state.username,\n      className: \"auth-input\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"auth-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      onChange: e => this.handleChange(e),\n      type: \"password\",\n      name: \"password\",\n      value: this.state.password,\n      className: \"auth-input\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.login,\n      className: \"auth-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Log In\")), React.createElement(\"h5\", {\n      className: \"offer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Don't have an account? \", React.createElement(Link, {\n      className: \"to-link\",\n      to: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Sign Up\"))), React.createElement(\"div\", {\n      className: \"auth-page-rest rest-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/dauytzhanovabotakoz/Documents/craft/src/components/auth/Login.js"],"names":["React","Component","Link","Redirect","Login","constructor","login","bind","state","username","password","redirect","isLogin","logout","handleChange","handleSubmit","fetch","method","headers","body","JSON","stringify","then","res","json","response","sessionStorage","setItem","setState","clear","e","target","value","name","preventDefault","render","getItem"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Link, Redirect} from \"react-router-dom\";\nimport \"./auth.css\";\n\nexport default class Login extends Component{\n    constructor(){\n        super();\n        this.login = this.login.bind(this);\n        this.state= {\n            username:'',\n            password:'',\n            redirect: false,\n            isLogin: false,\n        }\n        this.login = this.login.bind(this);\n        this.logout = this.logout.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit= this.handleSubmit.bind(this);\n    }\n\n   login () {\n       if(this.state.username && this.state.password) {\n            fetch('http://localhost/craft/api/users.php', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    username: this.state.username,\n                    password: this.state.password,\n                })\n              }).then(res => res.json()).then(response => {\n                sessionStorage.setItem(\"user\",response) \n                this.setState({redirect:true, isLogin:true}) }\n                )\n                \n           \n           \n       }\n   } \n   logout(){\n        sessionStorage.setItem(\"user\",'');\n        sessionStorage.clear();\n   }\n   handleChange(e){\n    let target = e.target;\n    let value = target.value;\n    let name = target.name;\n    \n    this.setState({\n        [name]: value}); \n    \n\n}\n   \n\n   handleSubmit(e){\n    e.preventDefault();\n   \n}\n   render() {\n       if(this.state.redirect) {\n           return <Redirect to=\"/home\"/>\n       }\n       if(sessionStorage.getItem('user')) {\n        return <Redirect to=\"/home\"/>\n    }\n        return (\n            <div className=\"auth-page\">\n                <div className=\"auth-page-box\">\n                    <h2 className=\"auth-title title-login\">Log In</h2>\n                    <form className=\"auth-form\" method=\"post\" onSubmit={e => this.handleSubmit(e)}>\n                        <label className=\"auth-label\">Username:</label>\n                        <input onChange={e => this.handleChange(e)} type=\"text\" name=\"username\" value = {this.state.username} className=\"auth-input\" required/>\n                        <label className=\"auth-label\">Password</label>\n                        <input onChange = {e => this.handleChange(e)}  type=\"password\" name=\"password\" value={this.state.password} className=\"auth-input\" required/>\n                        <button type=\"submit\" onClick={this.login} className=\"auth-button\">Log In</button>\n                    </form>\n                    <h5 className=\"offer\">Don't have an account? <Link className=\"to-link\" to=\"login\">Sign Up</Link></h5>\n                </div>\n                <div className=\"auth-page-rest rest-login\">\n                    \n                </div>\n            </div>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}