{"ast":null,"code":"var _jsxFileName = \"/Users/dauytzhanovabotakoz/Documents/craft/src/components/category/Category.js\";\nimport React, { Component } from 'react';\nimport CategoriesList from \"./CategoriesList\";\nimport \"../newArrivals/newArrivals.css\";\nimport db from \"../home/cards/db\";\nimport SideBar from '../home/sidebar/SideBar';\nexport default class Category extends Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleOutsideClick = this.handleOutsideClick.bind(this);\n    this.state = {\n      popupVisible: false\n    };\n  }\n\n  sortByPrice() {\n    db.books.sort((a, b) => {\n      if (a.price > b.price) {\n        return 1;\n      }\n\n      if (a.price < b.price) {\n        return -1;\n      }\n\n      return 0;\n    });\n  }\n\n  sortByAsc() {\n    db.books.sort((a, b) => {\n      if (a.title > b.title) {\n        return 1;\n      }\n\n      if (a.title < b.title) {\n        return -1;\n      }\n\n      return 0;\n    });\n  }\n\n  sortByDesc() {\n    db.books.sort((a, b) => {\n      if (a.title > b.title) {\n        return 1;\n      }\n\n      if (a.title < b.title) {\n        return -1;\n      }\n\n      return 0;\n    }).reverse();\n  }\n\n  handleClick() {\n    if (!this.state.popupVisible) {\n      // attach/remove event handler\n      document.addEventListener('click', this.handleOutsideClick, false);\n    } else {\n      document.removeEventListener('click', this.handleOutsideClick, false);\n    }\n\n    this.setState(prevState => ({\n      popupVisible: !prevState.popupVisible\n    }));\n  }\n\n  handleOutsideClick(e) {\n    // ignore clicks on the component itself\n    if (this.node.contains(e.target.node)) {\n      return;\n    }\n\n    this.handleClick();\n  }\n\n  fiction() {\n    this.setState({\n      category: 'fiction'\n    });\n    db.books.filter(book => {\n      return book.category.toLowerCase().indexOf(this.state.category.toLowerCase()) !== -1;\n    });\n  }\n\n  render() {\n    console.log(this.props.location.state.category);\n    return React.createElement(\"div\", {\n      className: \"new-arrivals\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"arrivals-books-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"new-arrivals-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Category:\", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, this.props.category), \" \"), React.createElement(\"p\", {\n      className: \"new-arrivals-p\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \" Lorem ipsum dolor sit amet, consectateur adispicing elit. Fusce euismod convallis.\"), React.createElement(\"div\", {\n      className: \"dropdown\",\n      ref: node => {\n        this.node = node;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.handleClick,\n      className: \"dropbtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Sort By\", React.createElement(\"i\", {\n      className: \"arrow down\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })), this.state.popupVisible && React.createElement(\"div\", {\n      id: \"myDropdown\",\n      className: \"dropdown-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      onClick: this.sortByPrice,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Price\"), React.createElement(\"a\", {\n      href: \"#\",\n      onClick: this.sortByAsc,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Asc\"), React.createElement(\"a\", {\n      href: \"#\",\n      onClick: this.sortByDesc,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Desc\"))), React.createElement(CategoriesList, {\n      bookElements: db.books,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    })), React.createElement(SideBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/dauytzhanovabotakoz/Documents/craft/src/components/category/Category.js"],"names":["React","Component","CategoriesList","db","SideBar","Category","constructor","props","handleClick","bind","handleOutsideClick","state","popupVisible","sortByPrice","books","sort","a","b","price","sortByAsc","title","sortByDesc","reverse","document","addEventListener","removeEventListener","setState","prevState","e","node","contains","target","fiction","category","filter","book","toLowerCase","indexOf","render","console","log","location"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport CategoriesList from \"./CategoriesList\";\nimport \"../newArrivals/newArrivals.css\";\nimport db from \"../home/cards/db\";\nimport SideBar from '../home/sidebar/SideBar';\n\nexport default class Category extends Component{\n    constructor(props) {\n        super(props);\n        this.handleClick = this.handleClick.bind(this);\n        this.handleOutsideClick = this.handleOutsideClick.bind(this);\n        this.state = {\n          popupVisible: false,\n        };\n        \n      }\n\n      sortByPrice () {\n        db.books.sort((a,b) => {\n          if (a.price > b.price) {\n            return 1;\n          }\n          if (a.price < b.price) {\n            return -1;\n          }\n          return 0;\n        })\n      }\n    \n      sortByAsc () {\n        \n       db.books.sort((a,b) => {\n        if (a.title > b.title) {\n          return 1;\n        }\n        if (a.title < b.title) {\n          return -1;\n        }\n        return 0;\n       })\n      }\n\n      sortByDesc() {\n        db.books.sort((a,b) => {\n          if (a.title > b.title) {\n            return 1;\n          }\n          if (a.title < b.title) {\n            return -1;\n          }\n          return 0;\n         }).reverse();\n      }\n\n      handleClick() {\n        if (!this.state.popupVisible) {\n          // attach/remove event handler\n          document.addEventListener('click', this.handleOutsideClick, false);\n        } else {\n          document.removeEventListener('click', this.handleOutsideClick, false);\n        }\n    \n        this.setState(prevState => ({\n           popupVisible: !prevState.popupVisible,\n        }));\n      }\n      \n      handleOutsideClick(e) {\n        // ignore clicks on the component itself\n        if (this.node.contains(e.target.node)) {\n            return;\n        }\n        this.handleClick();\n      }\n    \n    fiction() {\n        this.setState({\n            category: 'fiction'}\n        );\n        db.books.filter(\n            (book) => {\n                return book.category.toLowerCase().indexOf(this.state.category.toLowerCase()) !== -1 \n             \n            }\n        );\n    }\n\n    render(){\n      console.log(this.props.location.state.category);\n        return (\n            <div className=\"new-arrivals\">\n                <div className=\"arrivals-books-list\">\n                    <h5 className=\"new-arrivals-title\">Category:<span>{this.props.category}</span> </h5>\n                    <p className=\"new-arrivals-p\"> Lorem ipsum dolor sit amet, consectateur adispicing elit. Fusce euismod convallis.</p>\n                    <div className=\"dropdown\" ref={node => { this.node = node; }}>\n                        <button onClick={this.handleClick} className=\"dropbtn\">Sort By<i className=\"arrow down\"></i></button>\n                        {this.state.popupVisible && (\n                            <div id=\"myDropdown\" className=\"dropdown-content\">\n                                <a href=\"#\" onClick={this.sortByPrice}>Price</a>\n                                <a href=\"#\" onClick={this.sortByAsc}>Asc</a>\n                                <a href=\"#\" onClick={this.sortByDesc}>Desc</a>\n                            </div>)}\n                    </div>\n                    <CategoriesList bookElements ={db.books}/>\n                </div>\n                <SideBar/>\n            </div>\n        );\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}